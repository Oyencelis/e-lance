{% extends 'dashboard-base.html' %}

{% block title %}customer Table{% endblock %}

{% block content %}

<div class="container-xxl flex-grow-1 container-p-y">

    <div class="card">
        <h5 class="card-header">Seller Management</h5>
        <div class="table-responsive text-nowrap p-5">
          <table class="table table-striped" id="DataTables_Table_0">
        <thead class="table-dark">
            <tr>
                <th>Seller Name</th>
                <th>Email</th>
                <th>Store Name</th>
                <th>Phone Number</th>
                <th>Status</th>
                <th data-order="updated_at">Approval Date</th>
                <th>Actions</th> <!-- Make sure this is the last column -->
            </tr>
        </thead>
        <tbody class="table-border-bottom-0">
            {% for seller in sellers_data %}
            <tr>
                <td><span class="fw-bold text-capitalize">{{ seller.firstname }} {{ seller.lastname }}</span></td>
                <td><span class="text">{{ seller.email }}</span></td>
                <td><span>{{ seller.store_name }}</span></td>
                <td><span>{{ seller.phone }}</span></td>
                <td>
                  {% if seller.status == 1 %}
                      <span class="badge bg-label-warning me-1">Pending</span>
                  {% elif seller.status == 2 %}
                      <span class="badge bg-label-success me-1">Active</span>
                  {% elif seller.status == 3 %}
                      <span class="badge bg-label-danger me-1">Disabled</span>
                  {% endif %}
              </td>
              
                <td><span class="updatedAt">{{ seller.updated_at }}</span></td>
                <td>
                    <div class="dropdown">
                        <button type="button" class="btn p-0 dropdown-toggle hide-arrow" data-bs-toggle="dropdown">
                            <i class="bx bx-dots-vertical-rounded"></i>
                        </button>
                        <div class="dropdown-menu">
                            {% if seller.status == 1 %}
                                <a class="dropdown-item change-status" data-status-to="1" data-role="3" data-id="{{ seller.user_id }}" href="javascript:void(0);">
                                    <i class='bx bx-user-check'></i>Approve
                                </a>
                                <a class="dropdown-item change-status" data-status-to="0" data-role="{{ seller.role_id }}" data-id="{{ seller.user_id }}" href="javascript:void(0);">
                                    <i class='bx bx-user-x'></i>Reject
                                </a>
                            {% elif seller.status == 2 %}
                                <a class="dropdown-item change-status" data-status-to="3" data-role="{{ seller.role_id }}" data-id="{{ seller.user_id }}" href="javascript:void(0);">
                                    <i class='bx bx-user-x'></i>Disable
                                </a>
                                <a class="dropdown-item change-status" data-status-to="0" data-role="{{ seller.role_id }}" data-id="{{ seller.user_id }}" href="javascript:void(0);">
                                  <i class='bx bx-x'></i>Remove
                                </a>
                            {% else %}
                                <a class="dropdown-item change-status" data-status-to="1" data-role="2" data-id="{{ seller.user_id }}" href="javascript:void(0);">
                                    <i class='bx bx-user-check'></i>Enable
                                </a>
                                <a class="dropdown-item change-status" data-status-to="0" data-role="{{ seller.role_id }}" data-id="{{ seller.user_id }}" href="javascript:void(0);">
                                  <i class='bx bx-x'></i>Remove
                                </a>
                            {% endif %}
                        </div>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    
        
      </div>
    </div>

{% endblock %}